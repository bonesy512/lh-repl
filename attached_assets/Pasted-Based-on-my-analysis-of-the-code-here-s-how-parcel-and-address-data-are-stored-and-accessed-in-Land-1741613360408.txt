Based on my analysis of the code, here's how parcel and address data are stored and accessed in Landhacker:

Data Storage
Firestore Database: The app uses Firebase Firestore to store property data. The main collections are:

queries: Stores saved property searches with complete property details
users: Stores user profiles including subscription status and credits
Property Details Structure: Property data is structured using the PropertyDetailsResponse interface, which includes:

Basic address information (street, city, state, zipcode)
Property identifiers (propertyId, zpid)
Parcel information (gisArea, gisAreaUnits, legalAreaUnits)
Ownership details (ownerName, dateAcquired)
Valuation information (landValue, improvementValue, marketValue)
Tax information (taxYear, fipsCode, county)
Data Retrieval
Map Layer Integration: When a user selects a location on the map, the app queries rendered map features to get parcel data:

Copy snippet
const features = mapRef.current.queryRenderedFeatures(center, {
  layers: ['layer']
});
Search: The app uses Mapbox Geocoding API to search for addresses, which are then combined with property data from the map layers.

Saved Properties: When a user saves a property, it's stored in Firestore using:

Copy snippet
savePropertyQuery(userId, property)
Loading Saved Properties: The app loads saved properties using:

Copy snippet
getSavedQueries(userId)
Deep Linking: The app supports loading properties directly by ID from the URL:

Copy snippet
const docRef = doc(db, 'queries', queryId);
const docSnap = await getDoc(docRef);
In summary, the app combines data from Mapbox's geocoding services with GIS data from map layers, stores this information in Firestore, and provides a way to save, retrieve, and share property details through the database.


Searched for db OR collection OR firestore OR PropertyDetailsResponse
(66 matches)
Read code for Searchbar

Read code for Propertycard, Propertydialog

Read code for Firebase, Types


Searched for property OR address OR parcel OR firestore OR getSavedQueries OR savePropertyQuery
(108 matches)
DATABUTTON

a few seconds ago
Thought for a moment
ME

a few seconds ago
